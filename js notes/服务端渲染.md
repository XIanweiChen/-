https://www.jianshu.com/p/10b6074d772c

https://www.jianshu.com/p/5cbc3349819f

####  什么是服务端渲染

简单理解是将组件或页面通过服务器生成html字符串，再发送到浏览器，最后将静态标记"混合"为客户端上完全交互的应用程序

首屏从接口拿到数据并且渲染出来，都是在服务端进行的，而不是在浏览器中进行的，传给浏览器的文件是个已经填充好的文件

#### 使用SSR(server side render)的利弊

##### 利

1. 首屏加载快
   相比于加载单页应用，我只需要加载当前页面的内容，而不需要像 React 或者 Vue 一样加载全部的 js 文件（当然，单页应用文件加载过大的情况可以使用 code spliting 来解决）。
2. SEO 优化不同爬虫工作原理类似，只会爬取源码，不会执行网站的任何脚本（Google除外，据说Googlebot可以运行javaScript）。使用了React或者其它MVVM框架之后，页面大多数DOM元素都是在客户端根据js动态生成，可供爬虫抓取分析的内容大大减少(如图一)。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行JavaScript脚本的最终HTML，网络爬中就可以抓取到完整页面的信息。

##### 弊

1.服务端压力较大

本来是通过客户端完成渲染，现在统一到服务端node服务去做。尤其是高并发访问的情况，会大量占用服务端CPU资源；

2.开发条件受限

在服务端渲染中，只会执行componentDidMount，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制；

#### 服务端渲染和客户端渲染的区别

##### 客户端渲染路线：

1. 请求html
2. 服务端返回html
3. 浏览器下载html里面的js/css文件
4. 等待js文件下载完成
5. 等待js加载并初始化完成
6. js代码可以运行后由js代码向后端请求数据( ajax/fetch )
7. 等待后端数据返回
8. react-dom( 客户端 )从无到完整地，把数据渲染为响应页面

##### 服务端渲染路线：

1. 请求html
2. 服务端请求数据( 内网请求快 )
3. 服务器初始渲染（服务端性能好，较快）
4. 服务端返回已经有正确内容的页面
5. 客户端请求js/css文件
6. 等待js文件下载完成
7. 等待js加载并初始化完成
8. react-dom( 客户端 )把剩下一部分渲染完成( 内容小，渲染快 )